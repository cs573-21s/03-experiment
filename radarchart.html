<html>
<head>
<script src="https://d3js.org/d3.v6.min.js"></script>
</head>

  <body>

    <script>

      function angleToCoordinate(angle, value){
        let x = Math.cos(angle) * radialScale(value);
        let y = Math.sin(angle) * radialScale(value);
        return {"x": 250 + x, "y": 250 - y};
      }

      function getPathCoordinates(data_point){
        let coordinates = [];
        for (var i = 0; i < features.length; i++){
          let ft_name = features[i];
          let angle = (Math.PI / 2) + (2 * Math.PI * i / features.length);
          coordinates.push(angleToCoordinate(angle, data_point[ft_name]));
        }
        return coordinates;
      }

      let data = [];
      let features = ["A","B","C","D","E","F", "G", "H", "I", "J"];
      //generate the data
      for (var i = 0; i < 3; i++){
        var point = {}
        ////choose size of data set between 1-9
        features.forEach(f => point[f] = Math.random() * 8 + 1);
        data.push(point);
      }

      let svg = d3.select("body").append("svg")
          .attr("width", 500)
          .attr("height", 500);

      let radialScale = d3.scaleLinear()
          .domain([0,11])
          .range([0,250]);
      let ticks = [2,4,6,8,10];

      ticks.forEach(t =>
            svg.append("circle")
            .attr("cx", 250)
            .attr("cy", 250)
            .attr("fill", "none")
            .attr("stroke", "gray")
            .attr("r", radialScale(t))
      );

      for (var i = 0; i < features.length; i++) {
        let ft_name = features[i];
        let angle = (Math.PI / 2) + (2 * Math.PI * i / features.length);
        let line_coordinate = angleToCoordinate(angle, 10);
        let label_coordinate = angleToCoordinate(angle, 10.5);

        //draw axis line
        svg.append("line")
        .attr("x1", 250)
        .attr("y1", 250)
        .attr("x2", line_coordinate.x)
        .attr("y2", line_coordinate.y)
        .attr("stroke","black");

        //draw axis label
        svg.append("text")
        .attr("x", label_coordinate.x - 5)
        .attr("y", label_coordinate.y + 5)
        .text(ft_name);
      }

      let line = d3.line()
          .x(d => d.x)
          .y(d => d.y);
      let colors = ["darkred", "gray", "navy"];

      for (var i = 0; i < data.length; i ++){
        let d = data[i];
        let color = colors[i];
        let coordinates = getPathCoordinates(d);

        //draw the path element
        svg.append("path")
        .datum(coordinates)
        .attr("d",line)
        .attr("stroke-width", 3)
        .attr("stroke", color)
        .attr("fill", color)
        .attr("stroke-opacity", 1)
        .attr("opacity", 0.65);
      }

    </script>
</body>
</html>
